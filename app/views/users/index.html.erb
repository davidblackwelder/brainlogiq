<h1>Users: <%= @users.count %></h1>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Roles</th>
      <th>Email</th>
      <th>Signed Up</th>
      <th>Sign In Count</th>
      <th>Current Sign In At</th>
      <th>Last Sign In At</th>
      <th>Current Sign In IP</th>
      <th>Last Sign In IP</th>
      <th>Edit User</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.id %></td>
        <td>
          <% user.roles.each do |role| %>
            <%= role.name %>
          <% end %>
        </td>
        <td><%= user.email %></td>
        <td><%= time_ago_in_words(user.created_at) %> ago</td>
        <td><%= user.sign_in_count %></td>
        <td><%= user.current_sign_in_at %></td>
        <td><%= user.last_sign_in_at %></td>
        <td><%= user.current_sign_in_ip %></td>
        <td><%= user.last_sign_in_ip %></td>
        <td>
          <%= link_to 'Edit Roles', edit_user_path(user) %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
